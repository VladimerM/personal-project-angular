"use strict";(self.webpackChunkpersonal_project_angular=self.webpackChunkpersonal_project_angular||[]).push([[11],{6011:(F,p,a)=>{a.r(p),a.d(p,{FavoritesModule:()=>w});var s=a(6895),f=a(529),m=a(433),g=a(5722),h=a(1135),t=a(8274),d=a(262),_=a(9646);let x=(()=>{class o{constructor(e){this.http=e}getFavorite(e){return this.http.get("https://frix-job-listing.herokuapp.com/jobs/"+e).pipe((0,d.K)(n=>(alert("Something went wrong please try again later. For detailed information look at console"),console.log(n.message),(0,_.of)(!1))))}editJobs(e,n){return this.http.put("http://localhost:3000/jobs/"+e,n).pipe((0,d.K)(r=>(alert("Something went wrong pls reload page. For detailed information look at console"),console.log(r.message),(0,_.of)(!1))))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(f.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function u(o,i){1&o&&(t.TgZ(0,"span",21),t._uU(1,"NEW!"),t.qZA())}function v(o,i){1&o&&(t.TgZ(0,"span",22),t._uU(1,"FEATURED"),t.qZA())}function C(o,i){if(1&o&&(t.TgZ(0,"li",23),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e," ")}}function O(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._UZ(3,"img",8),t.qZA(),t.TgZ(4,"div",9)(5,"div",10)(6,"span",11),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.openJob(c))}),t._uU(7),t.qZA(),t.YNc(8,u,2,0,"span",12),t.YNc(9,v,2,0,"span",13),t.qZA(),t.TgZ(10,"div",14),t._uU(11),t.qZA(),t.TgZ(12,"ul",15)(13,"li",16),t._uU(14),t.qZA(),t.TgZ(15,"li",16),t._uU(16),t.qZA(),t.TgZ(17,"li",16),t._uU(18),t.qZA(),t.TgZ(19,"li",16),t._uU(20),t.qZA()()()(),t.TgZ(21,"ul",17),t.YNc(22,C,2,1,"li",18),t.qZA(),t.TgZ(23,"div",19)(24,"img",20),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onClickChangeHeart(c))}),t.qZA()()()}if(2&o){const e=i.$implicit,n=t.oxw();t.xp6(3),t.s9C("src",e.img,t.LSH),t.xp6(4),t.Oqu(e.company),t.xp6(1),t.Q6J("ngIf",n.checkDate(e)),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(2),t.Oqu(e.title),t.xp6(3),t.Oqu(n.getPostDate(e)),t.xp6(2),t.Oqu(e.workTime),t.xp6(2),t.Oqu(e.location),t.xp6(2),t.hij("Deadline: ",e.deadline,""),t.xp6(2),t.Q6J("ngForOf",e.datas),t.xp6(2),t.Q6J("src",e.heartSrc,t.LSH)}}function b(o,i){1&o&&(t.ynx(0),t.TgZ(1,"h1",24),t._uU(2," You currently have no active announcements in favorites. "),t.qZA(),t.BQk())}let M=(()=>{class o{constructor(e,n){this.favoriteService=e,this.router=n,this.favorites=new h.X([]),this.favoritesIds=[]}ngOnInit(){for(let e of JSON.parse(localStorage.getItem("favorites")))this.favoriteService.getFavorite(e).subscribe(n=>{let r=this.favorites.getValue();r.unshift(n),this.favorites.next(r)});this.favoritesIds=JSON.parse(localStorage.getItem("favorites"))}onClickChangeHeart(e){e.heartSrc="assets/images/icons/heart.svg",e.heartFilled=!e.heartFilled,this.favoritesIds.splice(this.favoritesIds.indexOf(e.id),1),localStorage.setItem("favorites",JSON.stringify(this.favoritesIds)),this.favoriteService.editJobs(e.id,e).subscribe()}checkDate(e){return Date.now()-e.date<864e5}getPostDate(e){return Math.floor((Date.now()-e.date)/864e5)<1?Math.floor((Date.now()-e.date)/36e5)+" hours ago":Math.floor((Date.now()-e.date)/864e5)+" days ago"}openJob(e){this.router.navigate([`/main/jobs/${e.id}`])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(x),t.Y36(g.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-favorites"]],decls:6,vars:4,consts:[[1,"wrapper"],[1,"favorites"],[1,"main"],["class","job",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"job"],[1,"job__info","info"],[1,"info__img"],["alt","Company Logo",3,"src"],[1,"info__info"],[1,"info__header"],[1,"info__header-name",3,"click"],["class","info__header-tag new",4,"ngIf"],["class","info__header-tag featured",4,"ngIf"],[1,"info__title"],[1,"info__about-list"],[1,"info__about-item"],[1,"job__data","data-list"],["class","data-list__item",4,"ngFor","ngForOf"],[1,"job__favorites"],["alt","favorites",3,"src","click"],[1,"info__header-tag","new"],[1,"info__header-tag","featured"],[1,"data-list__item"],[1,"nothing"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"main",2),t.YNc(3,O,25,11,"div",3),t.ALo(4,"async"),t.YNc(5,b,3,0,"ng-container",4),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,2,n.favorites)),t.xp6(2),t.Q6J("ngIf",!n.favorites.getValue().length))},dependencies:[s.sg,s.O5,s.Ov],styles:[".favorites[_ngcontent-%COMP%]{margin-top:50px}.main[_ngcontent-%COMP%]{max-width:1148px;margin:0 auto;font-family:arial}@media (max-width: 440px){.main[_ngcontent-%COMP%]{padding:15px}}.job[_ngcontent-%COMP%]{background-color:#fff;width:100%;padding:40px 20px 20px;border-radius:5px;box-shadow:-2px -1px 44px 10px #344f78a1;display:flex;justify-content:space-between;position:relative;margin-bottom:15px}@media (max-width: 840px){.job[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.job__favorites[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;cursor:pointer;color:#046363}.job__favorites[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:.3s}.job__favorites[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:red}.job__favorites[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:20px}.info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:25px;width:50%}@media (max-width: 840px){.info[_ngcontent-%COMP%]{width:100%;flex-wrap:wrap;padding:0 0 15px 5px;border-bottom:2px solid rgb(175,174,174);margin-bottom:15px}}.info__img[_ngcontent-%COMP%]{background-color:#5f9ea0;border-radius:50%;width:50px;height:50px}.info__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.info__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.info__header-name[_ngcontent-%COMP%]{color:#5ba4a4;font-weight:700;font-size:18px;margin-right:15px;cursor:pointer}.info__header-tag[_ngcontent-%COMP%]{background-color:#5ba4a4;color:#fff;border:0;padding:5px 9px;border-radius:15px;font-weight:700;margin-right:5px;font-size:13px}.info__header-tag.featured[_ngcontent-%COMP%]{background-color:#000}.info__title[_ngcontent-%COMP%]{color:#5ba4a4;font-weight:700;font-size:18px;margin-right:15px}.info__about-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:20px}.info__about-item[_ngcontent-%COMP%]{color:#7b8e8e;font-size:14px}.data-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:20px;width:50%}@media (max-width: 830px){.data-list[_ngcontent-%COMP%]{gap:10px}}@media (max-width: 840px){.data-list[_ngcontent-%COMP%]{width:100%}}.data-list__item[_ngcontent-%COMP%]{background-color:#fff;color:#5ba4a4;border:0;padding:9px 9px 9px 0;border-radius:5px;font-weight:700;cursor:pointer;transition:.4s;text-transform:uppercase}.data-list__item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#5ba4a4}.nothing[_ngcontent-%COMP%]{font-size:24px;position:absolute;top:30%;left:50%;transform:translate(-50%,-50%)}"],changeDetection:0}),o})(),w=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,f.JF,m.UX,g.Bz.forChild([{path:"",component:M}])]}),o})()}}]);